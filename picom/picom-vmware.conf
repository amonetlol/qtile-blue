# Backend mais estável e com melhor performance em VM VMware
backend = "xrender";

# Geralmente desnecessário em VM (e pode causar problemas)
vsync = false;

# Pode deixar leve
fading = true;
fade-delta = 4;           # um pouco mais rápido
fade-in-step = 0.03;
fade-out-step = 0.03;

# Cantos arredondados — funciona bem no xrender
corner-radius = 12;       # valor mais modesto (menos pesado)

# Shadow — ok, mas não exagere
shadow = true;
shadow-radius = 8;
shadow-opacity = 0.60;
shadow-offset-x = -8;
shadow-offset-y = -8;

# Blur — o mais importante: DESATIVE ou deixe MUITO leve
# dual_kawase + glx é o que mais mata performance em VM
blur-method = "none";
blur-strength = 0;        # bem baixo (ou 0 = desliga)
blur-background = false;  # ← o mais impactante: geralmente false em VM
blur-background-frame = false;
blur-background-fixed = false;

# Se mesmo assim quiser tentar blur leve (testar):
# blur-kern = "3x3box";   # kernel bem mais leve que gaussian 11x11
# blur-deviation = 0.5;

# Exclusões importantes (mantenha/adapte conforme seu setup)
blur-background-exclude = [
  "class_g = 'i3-frame'",
  "class_g = 'Polybar'",
  "class_g = 'waybar'",
  "window_type = 'dock'",
  "window_type = 'desktop'",
  "class_g = 'Rofi'",
  "class_g = 'Pinentry-gtk-2'",     # evita flicker em senhas
];

# Extras que ajudam em VM (reduz uso de recursos)
use-damage = true;
detect-rounded-corners = true;
detect-client-opacity = true;
mark-wmwin-focused = true;
mark-ovredir-focused = true;

# Se tiver problemas de flickering → teste ativar
# xrender-sync-fence = true;
